/*! 2016-01-27*/
var app=angular.module("app",[]);console.log("devices.js loading"),app.controller("DeviceController",["$scope","$http",function(a,b){function c(a){console.log(a);var c=window.prompt("Enter the datapoint you would like to add below.");return null===c?void console.log("CANCEL write for rid "+a):(console.log("CONFIRM write for rid "+a+" data="+c),b.put("rpc/resource/"+a+"/"+c).then(function(b){if(200!==b.status)throw new Error("/rpc/resource put call from deleteByRid failed");if(!b.data.info)throw new Error("RPC error: ",b.status);console.log("resource put call successful for: "+a)}))}function d(a,c){var d=window.prompt("Enter the datapoint you would like to add below.");return null===d?void console.log("CANCEL write for rid "+c):(console.log("CONFIRM write for rid "+c+" data="+d),b.put("rpc/resource/"+a+"/"+c+"/"+d).then(function(a){if(200!==a.status)throw new Error("/rpc/resource put call from deleteByRid failed");if(!a.data.info)throw new Error("RPC error: ",a.status);console.log("resource put call successful for: "+c)}))}function e(){return b.get("/rpc").then(function(b){function c(a,b){for(var d=0;d<a.length;d++){var e=b.aliases[a[d].rid];e?a[d].name=e[0]:a[d].name="Resource with no alias",a[d].children&&a[d].children.length>0&&(a[d].children=c(a[d].children,a[d].info))}return a}if(200!==b.status)throw new Error("/rpc call from getDevices failed");if(!b.data.info)throw new Error("no valid auth provided");$("#deviceTest").show();var d=b.data.children,e=b.data.info;return d=c(d,e),a.device={},a.devices=d,console.log("scope.devices set to: ",d),b.data.children})}console.log("app.controller entered"),a.device={},a.childDevice={},a.devices=[],e(),a.deleteByRid=c,a.getDevices=e,a.writeToDataport=d}]);